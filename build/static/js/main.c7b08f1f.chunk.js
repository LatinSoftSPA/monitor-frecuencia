(this["webpackJsonplatinsoft-pwa"]=this["webpackJsonplatinsoft-pwa"]||[]).push([[0],[,,,,,,,function(e,t,a){},,function(e,t,a){e.exports=a.p+"static/media/500.854842fa.png"},function(e,t,a){e.exports=a(21)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(3),o=a.n(r),c=(a(7),a(5)),i=a.n(c),s=a(8),m=a(2),u=function(e,t){var a=Object(l.useState)([]),n=Object(m.a)(a,2),r=n[0],o=n[1],c=Object(l.useState)(!0),u=Object(m.a)(c,2),f=u[0],d=u[1],v=Object(l.useState)(null),p=Object(m.a)(v,2),E=p[0],b=p[1];return Object(l.useEffect)((function(){(function(){var t=Object(s.a)(i.a.mark((function t(){var a,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e);case 3:return a=t.sent,t.next=6,a.json();case 6:l=t.sent,o(l),d(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(0),d(!1),b(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),{data:r,loading:f,error:E}},f=(a(16),function(){var e=Object(l.useState)("00:00:00"),t=Object(m.a)(e,2),a=t[0],r=t[1];return Object(l.useEffect)((function(){var e=setInterval((function(){return r((new Date).toLocaleTimeString())}),1e3);return function(){return clearInterval(e)}}),[]),n.a.createElement("div",{className:"boxReloj"},n.a.createElement("h1",null,a))}),d=a(4),v={styles:[{featureType:"water",elementType:"geometry",stylers:[{color:"#0f254e"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{color:"#FFFFFF"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#A4A4A4"}]},{featureType:"road.arterial",elementType:"geometry",stylers:[{color:"#F1F5BA"}]},{featureType:"road.arterial",elementType:"geometry.stroke",stylers:[{color:"#A4A4A4"}]},{featureType:"landscape.natural",stylers:[{color:"#aedec8"}]},{featureType:"landscape.natural.terrain",elementType:"geometry.fill",stylers:[{color:"#64788d"}]},{featureType:"landscape.natural.landcover",stylers:[{color:"#aedec8"}]},{featureType:"administrative.country",elementType:"labels.text",stylers:[{color:"#dbdfe4"},{visibility:"off"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"poi.attraction",stylers:[{visibility:"off"}]},{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"poi.government",stylers:[{visibility:"off"}]},{featureType:"poi.medical",stylers:[{visibility:"off"}]},{featureType:"poi.park",stylers:[{visibility:"off"}]},{featureType:"poi.place_of_worship",stylers:[{visibility:"off"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"off"}]},{featureType:"poi.school",stylers:[{visibility:"on"}]}],zoomControl:!0,mapTypeControl:!1,streetViewControl:!1},p={lat:-23.626847,lng:-70.389016},E={width:"100%",height:"100%"},b=function(e){return e>0&&e<=20?"#01DF01":e>20&&e<=40?"#2EFEF7":e>40&&e<=60?"#F7FE2E":e>60&&e<=80?"#FF8000":e>80&&e<=100?"#DF01A5":"#FF0000"},y=(a(17),function(){return n.a.createElement("div",{className:"loader"},"Loading...")}),N=(a(18),a(9)),g=a.n(N),h=function(e){return n.a.createElement("div",{className:"text-center"},n.a.createElement("h4",{className:"Error_Text"},"Error:",n.a.createElement("b",null," ",e.msg)),n.a.createElement("img",{src:g.a,alt:"500 Unexpected Error",className:"Error_Image"}))},_=n.a.memo((function(e){var t=n.a.useState(null),a=Object(m.a)(t,2),l=(a[0],a[1]),r=e.moviles,o=e.rutas,c=n.a.useState([]),i=Object(m.a)(c,2),s=(i[0],i[1],n.a.useState(null)),u=Object(m.a)(s,2),f=(u[0],u[1],Object(d.e)({googleMapsApiKey:"AIzaSyCpcjpET_egxZ-KiFlQwio0x7HLFjcphgc"})),N=f.isLoaded,g=f.loadError,_=n.a.useRef(),k=n.a.useCallback((function(e){_.current=e}),[]),w=(n.a.useCallback((function(e){var t=e.lat,a=e.lng;_.current.panTo({lat:t,lng:a}),_.current.setZoom(14)}),[]),n.a.useCallback((function(e){l(null)}),[])),x=function(e,t,a,l,r,o,c,i){var s,m,u="MAQ: ".concat(a,"|PPU: ").concat(t);return n.a.createElement(d.c,{key:e,title:u,id:e,name:t,position:l,mapCenter:l,draggable:!1,icon:(s=r,m=o,{path:+m>0?"M 0.15819685,-1.7313924 C -0.20068547,-0.57366228 -0.77102389,0.64638983 -1.8776818,2.2570557 0.47577564,1.1195351 -0.17423351,1.1153647 2.1052267,2.2977377 1.0806048,0.75653464 0.54081929,-0.5637517 0.15819685,-1.7313924 Z":"m 4.7481291,0.74493532 c -0.067158,-0.2743055 -0.282378,-0.384009 -0.6050588,-0.493741 -0.3181405,-0.1082135 -1.0804599,-0.237573 -1.6430327,-0.241215 -0.5625478,0.00435 -1.3248839,0.1331255 -1.64300741,0.241215 -0.32270604,0.1097685 -0.53781807,0.2194355 -0.60502583,0.493741 L 0.00997907,2.2655954 v 2.0953322 h 0.41679331 v 0.3286005 c 0,0.4006563 0.71845512,0.4006563 0.71845512,0 V 4.3609276 h 1.3263949 0.00415 1.3790166 v 0.3286005 c 0,0.4006563 0.7184389,0.4006563 0.7184389,0 V 4.3609276 h 0.416793 V 2.2655954 Z m -3.5814676,-0.351122 h 1.3091861 1.3420262 c 0.2016892,0 0.2016892,0.246885 0,0.246885 H 2.4733739 1.1666615 c -0.20164755,0 -0.2016643,-0.246885 0,-0.246885 z M 0.7862864,3.7040525 c -0.1903,0 -0.34462153,-0.1259215 -0.34462153,-0.281248 0,-0.1553115 0.15423028,-0.2812475 0.34462153,-0.2812475 0.19030785,0 0.3446463,0.125921 0.3446463,0.2812475 1.65e-5,0.155312 -0.154239,0.281248 -0.3446463,0.281248 z M 2.4758476,2.4258429 H 0.64775365 c -0.17895177,0 -0.21646527,-0.104898 -0.19887502,-0.2106395 L 0.63718615,1.1122748 c 0.025983,-0.13390298 0.0815188,-0.22234348 0.2945893,-0.22234348 H 2.4733571 4.068217 c 0.2130621,0 0.2687058,0.088338 0.2945726,0.22234348 l 0.1883075,1.1029286 c 0.01793,0.105676 -0.019923,0.2106395 -0.198875,0.2106395 z m 1.7379417,1.2782096 c -0.1903,0 -0.3446216,-0.1259215 -0.3446216,-0.281248 0,-0.1553115 0.1542306,-0.2812475 0.3446216,-0.2812475 0.190308,0 0.3446211,0.125921 0.3446211,0.2812475 0,0.155312 -0.1542304,0.281248 -0.3446211,0.281248 z",rotation:s,scale:+m>0?3:2,strokeColor:"#000",strokeWeight:1.2,fillOpacity:2,fillColor:b(m)}),hora:c,fecha:i,velocidad:o,grados:r,movil:a})};return g?n.a.createElement(h,null):N?n.a.createElement("div",{className:"boxMapa"},n.a.createElement(d.a,{mapContainerStyle:E,options:v,onLoad:k,onUnmount:w,zoom:1,center:p},o.length>0?function(e){var t=[];return e.map((function(e,a){return t.push(n.a.createElement(d.b,{key:a,url:e}))})),t}(o):null,r.map((function(e){return e.Eventos.length>0?function(e){var t=e.Codigo,a=e.Patente,l=e.Movil,n=e.Eventos[0],r=n.Heading,o=n.Velocidad,c=n.Fecha,i=n.Hora,s={lat:n.Latitud,lng:n.Longitud};return x(t,a,l,s,r,o,i,c)}(e):null})),n.a.createElement(d.d,null))):n.a.createElement(y,null)})),k=function(e){var t=n.a.useState(e),a=Object(m.a)(t,2),l=a[0],r=a[1];return{objeto:l,handleClick:function(e){r(e),console.log(e)}}},w={color:"#fff"},x=function(e){var t=e.obj,a=e.handleClick,l=t.nume_movil,r=t.pate_movil,o=t.frecuencia,c=t.INI,i=t.TER,s=t.conductor;return n.a.createElement("tr",{style:w,onClick:function(){return a(t)}},n.a.createElement("td",{className:"text-center flow-text"},n.a.createElement("b",null,l)),n.a.createElement("td",{className:"text-center"},r),n.a.createElement("td",{className:"text-center"},"(",o,")"),n.a.createElement("td",{className:"text-center flow-text"},n.a.createElement("b",null,c)),n.a.createElement("td",{className:"text-center"},i),n.a.createElement("td",{className:"text-nowrap d-none d-md-block"},s))},T=function(){return n.a.createElement("ul",{className:"nav nav-pills nav-justified",id:"pills-tab",role:"tablist"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link active",id:"tab-001","data-toggle":"pill",href:"#tab_001",role:"tab","aria-controls":"tab_001","aria-selected":"true"},"Servicio")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",id:"tab-002","data-toggle":"pill",href:"#tab_002",role:"tab","aria-controls":"tab_002","aria-selected":"false"},"Conductor")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("a",{className:"nav-link",id:"tab-003","data-toggle":"pill",href:"#tab_003",role:"tab","aria-controls":"tab_003","aria-selected":"false"},"Movil")))},C=function(e){var t=e.servicio,a=t.codi_circu,l=t.nomb_circu,r=t.codi_servi,o=t.INI,c=t.TER;return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"codi_circu",className:"col-sm-2 col-form-label col-form-label-sm"},"Circuito"),n.a.createElement("div",{className:"col-sm-2"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"codi_circu",value:a})),n.a.createElement("div",{className:"col-sm-8"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"nomb_circu",value:l}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"codi_servi",className:"col-sm-2 col-form-label col-form-label-sm"},"COD"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"codi_servi",value:r}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"INI",className:"col-sm-2 col-form-label col-form-label-sm"},"Servicio"),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"INI",value:o})),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"TER",value:c}))))},j=function(e){var t=e.servicio,a=t.docu_perso,l=t.conductor;return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"docu_perso",className:"col-sm-2 col-form-label col-form-label-sm"},"Documento"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"docu_perso",value:a}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"conductor",className:"col-sm-2 col-form-label col-form-label-sm"},"Nombre"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"conductor",value:l}))))},F=function(e){var t=e.servicio,a=t.nume_movil,l=t.pate_movil,r=t.codi_equip;return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"nume_movil",className:"col-sm-2 col-form-label col-form-label-sm"},"Movil"),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"nume_movil",value:a})),n.a.createElement("div",{className:"col-sm-5"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"pate_movil",value:l}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{forhtml:"codi_equip",className:"col-sm-2 col-form-label col-form-label-sm"},"Equipo"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{className:"form-control form-control-sm",type:"text",name:"codi_equip",value:r}))))},S=function(e){var t=e.servicio;return n.a.createElement("div",{className:"tab-content",id:"pills-tabContent"},n.a.createElement("div",{className:"tab-pane fade show active",id:"tab_001",role:"tabpanel"},n.a.createElement(C,{servicio:t})),n.a.createElement("div",{className:"tab-pane fade",id:"tab_002",role:"tabpanel"},n.a.createElement(j,{servicio:t})),n.a.createElement("div",{className:"tab-pane fade",id:"tab_003",role:"tabpanel"},n.a.createElement(F,{servicio:t})))},A=function(e){var t=e.servicio;return n.a.createElement(n.a.Fragment,null,n.a.createElement(T,null),n.a.createElement(S,{servicio:t}))},O=function(e){var t=e.servicio,a=(e.handleSubmit,t.nume_movil),l=t.INI;return n.a.createElement("div",{className:"modal fade",id:"modalServicio"},n.a.createElement("div",{className:"modal-dialog"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header bg-dark"},n.a.createElement("b",{className:"modal-title"},"Movil : ".concat(a," - Servicio ").concat(l))),n.a.createElement("div",{className:"modal-body bg-light"},n.a.createElement(A,{servicio:t})),n.a.createElement("div",{className:"modal-footer bg-dark"},n.a.createElement("button",{type:"button",className:"btn btn-sm btn-success"},"Guardar"),n.a.createElement("button",{type:"button",className:"btn btn-sm btn-danger","data-dismiss":"modal"},"Cancelar")))))},I={backgroundColor:"#01579b",color:"#fff"},M=function(e){var t=e.data,a=k([]),l=a.objeto,r=a.handleClick,o=t;return n.a.createElement("div",{className:"boxServicios"},n.a.createElement("table",{className:"striped responsive-table"},n.a.createElement("thead",{style:I},n.a.createElement("tr",null,n.a.createElement("th",{className:"text-center"},"Movil"),n.a.createElement("th",{className:"text-center"},"Patente"),n.a.createElement("th",{className:"text-center"},"Frec."),n.a.createElement("th",{className:"text-center"},"Inicio"),n.a.createElement("th",{className:"text-center"},"Termino"),n.a.createElement("th",{className:"text-left d-none d-md-block"},"Conductor"))),n.a.createElement("tbody",null,function(e,t){return e.map((function(e){return n.a.createElement(x,{key:e.codi_servi,obj:e,handleClick:t})}))}(o,r))),n.a.createElement(O,{servicio:l}))},L=function(){var e=u("http://gestra.latinsoft.cl/api/monitores/listar/96711420/20/actual"),t=e.data,a=e.loading,l=e.error;return a?n.a.createElement(y,null):l?n.a.createElement(h,{msg:"No Se Encontraron Datos en Nuestas DB"}):n.a.createElement(M,{data:t})},R=(a(19),function(e){var t=e.nume_movil,a=e.codi_movil,l=e.total_eventos,r=e.handleClick;return n.a.createElement("li",null,n.a.createElement("a",{className:l>0?"azul":"negro",href:"#!",onClick:function(){return r({nume_movil:t,codi_movil:a})}},t))}),W=function(e){var t=e.moviles,a=k([]),l=a.objeto,r=a.handleClick;if(l)return n.a.createElement("div",{className:"boxMoviles"},n.a.createElement("ul",{className:"nav nav-pills nav-justified"},function(e,t){return e.map((function(e){return n.a.createElement(R,{key:e.Codigo,nume_movil:e.Movil,codi_movil:e.Codigo,total_eventos:e.Eventos.length,handleClick:t})}))}(t,r)))},z=function(e){var t=e.moviles;return n.a.createElement(W,{moviles:t})},D=(a(20),function(){var e=u("http://latinsoft.cl/api/trackers/tpublico/antofagasta/linea104"),t=e.data,a=e.loading,l=e.error,r=t.Moviles;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col s4"},n.a.createElement(f,null),function(){if(a)return n.a.createElement(y,null);if(l)return n.a.createElement(h,{msg:"Falla la Comunicacion con El Servidor."});return n.a.createElement(_,{moviles:r,rutas:["http://latinsoft.cl/archivos/circuitos/antofagasta/linea104/RUTA_104_IDA.kml","http://latinsoft.cl/archivos/circuitos/antofagasta/linea104/RUTA_104_REG.kml"]})}()),n.a.createElement("div",{className:"col s8"},n.a.createElement(L,null),a?n.a.createElement(y,null):l?n.a.createElement(h,{msg:"Falla la Comunicacion con El Servidor."}):n.a.createElement(z,{moviles:r})))}),U=function(){return n.a.createElement("div",{className:"background"},n.a.createElement(D,null))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function P(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(U,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var l=a.headers.get("content-type");404===a.status||null!=l&&-1===l.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):P(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):P(t,e)}))}}()}],[[10,1,2]]]);
//# sourceMappingURL=main.c7b08f1f.chunk.js.map